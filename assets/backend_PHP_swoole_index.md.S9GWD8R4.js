import{_ as n,c as a,o as l,ah as p}from"./chunks/framework.BrJYEL96.js";const u=JSON.parse('{"title":"swoole","description":"","frontmatter":{},"headers":[],"relativePath":"backend/PHP/swoole/index.md","filePath":"backend/PHP/swoole/index.md","lastUpdated":1753850340000}'),e={name:"backend/PHP/swoole/index.md"};function o(c,s,r,t,i,b){return l(),a("div",null,s[0]||(s[0]=[p(`<h1 id="swoole" tabindex="-1">swoole <a class="header-anchor" href="#swoole" aria-label="Permalink to &quot;swoole&quot;">​</a></h1><h3 id="ubuntu" tabindex="-1">ubuntu <a class="header-anchor" href="#ubuntu" aria-label="Permalink to &quot;ubuntu&quot;">​</a></h3><div class="language-sh line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang">sh</span><pre class="shiki one-dark-pro vp-code" style="background-color:#282c34;color:#abb2bf;" tabindex="0"><code><span class="line"><span style="color:#7F848E;font-style:italic;"># phpize 执行不完整，未能正确生成 configure 脚本,系统缺少 autoconf 工具链</span></span>
<span class="line"><span style="color:#61AFEF;">apt</span><span style="color:#98C379;"> install</span><span style="color:#D19A66;"> -y</span><span style="color:#98C379;"> autoconf</span><span style="color:#98C379;"> automake</span><span style="color:#98C379;"> libtool</span><span style="color:#98C379;"> libbrotli-dev</span></span>
<span class="line"></span>
<span class="line"><span style="color:#61AFEF;">phpize</span></span>
<span class="line"></span>
<span class="line"><span style="color:#7F848E;font-style:italic;"># 安装</span></span>
<span class="line"><span style="color:#61AFEF;">./configure</span><span style="color:#D19A66;"> --with-php-config=/usr/local/php/bin/php-config</span><span style="color:#D19A66;"> --enable-mysqlnd</span></span>
<span class="line"></span>
<span class="line"><span style="color:#61AFEF;">make</span><span style="color:#D19A66;"> -j$(</span><span style="color:#61AFEF;">nproc</span><span style="color:#D19A66;">)</span></span>
<span class="line"></span>
<span class="line"><span style="color:#61AFEF;">make</span><span style="color:#98C379;"> install</span></span>
<span class="line"></span>
<span class="line"><span style="color:#61AFEF;">make</span><span style="color:#98C379;"> distclean</span><span style="color:#ABB2BF;"> || </span><span style="color:#61AFEF;">make</span><span style="color:#98C379;"> clean</span><span style="color:#ABB2BF;"> &amp;&amp; </span><span style="color:#61AFEF;">phpize</span><span style="color:#D19A66;"> --clean</span></span>
<span class="line"></span>
<span class="line"></span>
<span class="line"><span style="color:#7F848E;font-style:italic;"># 报错</span></span>
<span class="line"><span style="color:#7F848E;font-style:italic;"># 检查 PCRE2 是否安装</span></span>
<span class="line"><span style="color:#61AFEF;">brew</span><span style="color:#98C379;"> list</span><span style="color:#98C379;"> pcre2</span></span>
<span class="line"></span>
<span class="line"><span style="color:#7F848E;font-style:italic;"># 查找 pcre2.h 文件位置</span></span>
<span class="line"><span style="color:#61AFEF;">find</span><span style="color:#98C379;"> /opt/homebrew</span><span style="color:#D19A66;"> -name</span><span style="color:#98C379;"> &quot;pcre2.h&quot;</span></span>
<span class="line"></span>
<span class="line"><span style="color:#7F848E;font-style:italic;"># 设置正确的编译环境变量</span></span>
<span class="line"><span style="color:#7F848E;font-style:italic;"># 获取 PCRE2 的安装路径</span></span>
<span class="line"><span style="color:#E06C75;">PCRE2_PREFIX</span><span style="color:#56B6C2;">=</span><span style="color:#ABB2BF;">$(</span><span style="color:#61AFEF;">brew</span><span style="color:#D19A66;"> --prefix</span><span style="color:#98C379;"> pcre2</span><span style="color:#ABB2BF;">)</span></span>
<span class="line"></span>
<span class="line"><span style="color:#7F848E;font-style:italic;"># 设置必要的环境变量</span></span>
<span class="line"><span style="color:#C678DD;">export</span><span style="color:#E06C75;"> C_INCLUDE_PATH</span><span style="color:#56B6C2;">=</span><span style="color:#98C379;">&quot;</span><span style="color:#E06C75;">$PCRE2_PREFIX</span><span style="color:#98C379;">/include:</span><span style="color:#E06C75;">$C_INCLUDE_PATH</span><span style="color:#98C379;">&quot;</span></span>
<span class="line"><span style="color:#C678DD;">export</span><span style="color:#E06C75;"> LIBRARY_PATH</span><span style="color:#56B6C2;">=</span><span style="color:#98C379;">&quot;</span><span style="color:#E06C75;">$PCRE2_PREFIX</span><span style="color:#98C379;">/lib:</span><span style="color:#E06C75;">$LIBRARY_PATH</span><span style="color:#98C379;">&quot;</span></span>
<span class="line"><span style="color:#C678DD;">export</span><span style="color:#E06C75;"> PKG_CONFIG_PATH</span><span style="color:#56B6C2;">=</span><span style="color:#98C379;">&quot;</span><span style="color:#E06C75;">$PCRE2_PREFIX</span><span style="color:#98C379;">/lib/pkgconfig:</span><span style="color:#E06C75;">$PKG_CONFIG_PATH</span><span style="color:#98C379;">&quot;</span></span>
<span class="line"></span>
<span class="line"></span>
<span class="line"><span style="color:#61AFEF;">sudo</span><span style="color:#98C379;"> cp</span><span style="color:#E06C75;"> $PCRE2_PREFIX</span><span style="color:#98C379;">/include/pcre2.h</span><span style="color:#98C379;"> /usr/local/include/</span></span>
<span class="line"><span style="color:#61AFEF;">sudo</span><span style="color:#98C379;"> cp</span><span style="color:#E06C75;"> $PCRE2_PREFIX</span><span style="color:#98C379;">/include/pcre2.h</span><span style="color:#98C379;"> /opt/homebrew/include/</span></span></code></pre><div class="line-numbers-wrapper" aria-hidden="true"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br><span class="line-number">16</span><br><span class="line-number">17</span><br><span class="line-number">18</span><br><span class="line-number">19</span><br><span class="line-number">20</span><br><span class="line-number">21</span><br><span class="line-number">22</span><br><span class="line-number">23</span><br><span class="line-number">24</span><br><span class="line-number">25</span><br><span class="line-number">26</span><br><span class="line-number">27</span><br><span class="line-number">28</span><br><span class="line-number">29</span><br><span class="line-number">30</span><br><span class="line-number">31</span><br><span class="line-number">32</span><br><span class="line-number">33</span><br><span class="line-number">34</span><br></div></div>`,3)]))}const C=n(e,[["render",o]]);export{u as __pageData,C as default};
