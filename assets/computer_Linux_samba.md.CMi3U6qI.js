import{_ as a,c as n,o as l,ah as p}from"./chunks/framework.BrJYEL96.js";const m=JSON.parse('{"title":"SAMBA","description":"","frontmatter":{},"headers":[],"relativePath":"computer/Linux/samba.md","filePath":"computer/Linux/samba.md","lastUpdated":1754837914000}'),e={name:"computer/Linux/samba.md"};function o(r,s,c,t,i,y){return l(),n("div",null,s[0]||(s[0]=[p(`<h1 id="samba" tabindex="-1">SAMBA <a class="header-anchor" href="#samba" aria-label="Permalink to &quot;SAMBA&quot;">​</a></h1><ol><li>smb 服务 <ul><li>性质：Samba 的核心启动服务。</li><li>功能：建立 Linux Samba 服务器与 Samba 客户机之间的对话，验证用户身份并提供对文件和打印系统的访问。只有 SMB 服务启动，才能实现文件的共享。</li><li>监听端口：监听 139 TCP 端口。</li></ul></li><li>nmb 服务 <ul><li>性质：负责解析的服务。</li><li>功能：类似 DNS 的功能，把 Linux 系统共享的工作组名称与其 IP 对应起来。如果 NMB 服务没有启动，就只能通过 IP 来访问共享文件。</li><li>监听端口：监听 137 和 138 UDP 端口。</li></ul></li></ol><h2 id="安装服务" tabindex="-1">安装服务 <a class="header-anchor" href="#安装服务" aria-label="Permalink to &quot;安装服务&quot;">​</a></h2><div class="language-sh line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang">sh</span><pre class="shiki one-dark-pro vp-code" style="background-color:#282c34;color:#abb2bf;" tabindex="0"><code><span class="line"><span style="color:#61AFEF;">yum</span><span style="color:#98C379;"> install</span><span style="color:#D19A66;"> -y</span><span style="color:#98C379;"> samba</span></span>
<span class="line"></span>
<span class="line"><span style="color:#61AFEF;">systemctl</span><span style="color:#98C379;"> status</span><span style="color:#98C379;"> smb</span><span style="color:#98C379;"> nmb</span></span>
<span class="line"></span>
<span class="line"><span style="color:#61AFEF;">mkdir</span><span style="color:#D19A66;"> -p</span><span style="color:#98C379;"> /samba/shared_dir</span></span>
<span class="line"></span>
<span class="line"><span style="color:#61AFEF;">useradd</span><span style="color:#98C379;"> samba</span></span>
<span class="line"></span>
<span class="line"><span style="color:#61AFEF;">sudo</span><span style="color:#98C379;"> chown</span><span style="color:#D19A66;"> -R</span><span style="color:#98C379;"> samba.samba</span><span style="color:#98C379;"> /samba</span></span>
<span class="line"></span>
<span class="line"><span style="color:#61AFEF;">vim</span><span style="color:#98C379;"> /etc/samba/smb.conf</span></span>
<span class="line"></span>
<span class="line"><span style="color:#ABB2BF;">[shared_dir]</span></span>
<span class="line"><span style="color:#61AFEF;">        comment</span><span style="color:#98C379;"> =</span><span style="color:#98C379;"> this</span><span style="color:#98C379;"> is</span><span style="color:#98C379;"> shared</span><span style="color:#98C379;"> directory</span></span>
<span class="line"><span style="color:#61AFEF;">        path</span><span style="color:#98C379;"> =</span><span style="color:#98C379;"> /samba/shared_dir</span></span>
<span class="line"><span style="color:#56B6C2;">        read</span><span style="color:#98C379;"> only</span><span style="color:#98C379;"> =</span><span style="color:#98C379;"> No</span></span>
<span class="line"><span style="color:#ABB2BF;">        </span></span>
<span class="line"><span style="color:#61AFEF;">systemctl</span><span style="color:#98C379;"> start</span><span style="color:#98C379;"> smb</span><span style="color:#98C379;"> nmb</span></span>
<span class="line"></span>
<span class="line"><span style="color:#61AFEF;">netstat</span><span style="color:#D19A66;"> -anltp</span><span style="color:#ABB2BF;"> | </span><span style="color:#61AFEF;">grep</span><span style="color:#98C379;"> smb</span></span>
<span class="line"></span>
<span class="line"><span style="color:#61AFEF;">smbpasswd</span><span style="color:#D19A66;"> -a</span><span style="color:#98C379;"> samba</span></span></code></pre><div class="line-numbers-wrapper" aria-hidden="true"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br><span class="line-number">16</span><br><span class="line-number">17</span><br><span class="line-number">18</span><br><span class="line-number">19</span><br><span class="line-number">20</span><br><span class="line-number">21</span><br><span class="line-number">22</span><br></div></div><h3 id="客户端安装服务" tabindex="-1">客户端安装服务 <a class="header-anchor" href="#客户端安装服务" aria-label="Permalink to &quot;客户端安装服务&quot;">​</a></h3><h4 id="linux-端" tabindex="-1">linux 端 <a class="header-anchor" href="#linux-端" aria-label="Permalink to &quot;linux 端&quot;">​</a></h4><div class="language-sh line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang">sh</span><pre class="shiki one-dark-pro vp-code" style="background-color:#282c34;color:#abb2bf;" tabindex="0"><code><span class="line"><span style="color:#61AFEF;">yum</span><span style="color:#98C379;"> install</span><span style="color:#D19A66;"> -y</span><span style="color:#98C379;"> cifs-utils</span><span style="color:#7F848E;font-style:italic;"> # 安装协议包</span></span>
<span class="line"></span>
<span class="line"><span style="color:#61AFEF;">mount</span><span style="color:#D19A66;"> -t</span><span style="color:#98C379;"> cifs</span><span style="color:#D19A66;"> -o</span><span style="color:#98C379;"> username=samba,password=love</span><span style="color:#98C379;"> //192.168.99.10/shared_dir</span><span style="color:#98C379;"> /mnt/shared_dir</span></span>
<span class="line"></span>
<span class="line"><span style="color:#61AFEF;">df</span><span style="color:#D19A66;"> -h</span></span>
<span class="line"></span>
<span class="line"><span style="color:#61AFEF;">Filesystem</span><span style="color:#98C379;">                  Size</span><span style="color:#98C379;">  Used</span><span style="color:#98C379;"> Avail</span><span style="color:#98C379;"> Use%</span><span style="color:#98C379;"> Mounted</span><span style="color:#98C379;"> on</span></span>
<span class="line"><span style="color:#61AFEF;">devtmpfs</span><span style="color:#98C379;">                    1.9G</span><span style="color:#D19A66;">     0</span><span style="color:#98C379;">  1.9G</span><span style="color:#98C379;">   0%</span><span style="color:#98C379;"> /dev</span></span>
<span class="line"><span style="color:#61AFEF;">tmpfs</span><span style="color:#98C379;">                       1.9G</span><span style="color:#D19A66;">     0</span><span style="color:#98C379;">  1.9G</span><span style="color:#98C379;">   0%</span><span style="color:#98C379;"> /dev/shm</span></span>
<span class="line"><span style="color:#61AFEF;">tmpfs</span><span style="color:#98C379;">                       1.9G</span><span style="color:#98C379;">  8.6M</span><span style="color:#98C379;">  1.9G</span><span style="color:#98C379;">   1%</span><span style="color:#98C379;"> /run</span></span>
<span class="line"><span style="color:#61AFEF;">tmpfs</span><span style="color:#98C379;">                       1.9G</span><span style="color:#D19A66;">     0</span><span style="color:#98C379;">  1.9G</span><span style="color:#98C379;">   0%</span><span style="color:#98C379;"> /sys/fs/cgroup</span></span>
<span class="line"><span style="color:#61AFEF;">/dev/mapper/centos-root</span><span style="color:#98C379;">      22G</span><span style="color:#98C379;">  3.6G</span><span style="color:#98C379;">   18G</span><span style="color:#98C379;">  17%</span><span style="color:#98C379;"> /</span></span>
<span class="line"><span style="color:#61AFEF;">/dev/sda1</span><span style="color:#98C379;">                  1014M</span><span style="color:#98C379;">  189M</span><span style="color:#98C379;">  826M</span><span style="color:#98C379;">  19%</span><span style="color:#98C379;"> /boot</span></span>
<span class="line"><span style="color:#61AFEF;">tmpfs</span><span style="color:#98C379;">                       379M</span><span style="color:#D19A66;">     0</span><span style="color:#98C379;">  379M</span><span style="color:#98C379;">   0%</span><span style="color:#98C379;"> /run/user/0</span></span>
<span class="line"><span style="color:#61AFEF;">//192.168.99.10/shared_dir</span><span style="color:#98C379;">   22G</span><span style="color:#98C379;">  3.6G</span><span style="color:#98C379;">   18G</span><span style="color:#98C379;">  17%</span><span style="color:#98C379;"> /mnt/shared_dir</span></span></code></pre><div class="line-numbers-wrapper" aria-hidden="true"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br></div></div><h4 id="windows" tabindex="-1">Windows <a class="header-anchor" href="#windows" aria-label="Permalink to &quot;Windows&quot;">​</a></h4><p>先在<code>启动或关闭Windows功能</code>里打开samba服务，然后资源管理器地址栏输入<code>\\\\ip</code>，输入认证信息。</p>`,9)]))}const d=a(e,[["render",o]]);export{m as __pageData,d as default};
