import{_ as a,c as n,o as e,ah as l}from"./chunks/framework.BrJYEL96.js";const m=JSON.parse('{"title":"故障","description":"","frontmatter":{},"headers":[],"relativePath":"database/MongoDB/problem.md","filePath":"database/MongoDB/problem.md","lastUpdated":1738978758000}'),o={name:"database/MongoDB/problem.md"};function p(r,s,c,t,i,d){return e(),n("div",null,s[0]||(s[0]=[l(`<h1 id="故障" tabindex="-1">故障 <a class="header-anchor" href="#故障" aria-label="Permalink to &quot;故障&quot;">​</a></h1><h2 id="模拟缓存不足" tabindex="-1">模拟缓存不足 <a class="header-anchor" href="#模拟缓存不足" aria-label="Permalink to &quot;模拟缓存不足&quot;">​</a></h2><div class="language-sh line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang">sh</span><pre class="shiki one-dark-pro vp-code" style="background-color:#282c34;color:#abb2bf;" tabindex="0"><code><span class="line"><span style="color:#7F848E;font-style:italic;"># /data/db/mongo.conf</span></span>
<span class="line"><span style="color:#61AFEF;">storage:</span></span>
<span class="line"><span style="color:#61AFEF;">  dbPath:</span><span style="color:#98C379;"> /data/db</span></span>
<span class="line"><span style="color:#61AFEF;">  wiredTiger:</span></span>
<span class="line"><span style="color:#61AFEF;">    engineConfig:</span></span>
<span class="line"><span style="color:#61AFEF;">      cacheSizeGB:</span><span style="color:#D19A66;"> 0.25</span></span>
<span class="line"><span style="color:#ABB2BF;">      </span></span>
<span class="line"><span style="color:#ABB2BF;">      </span></span>
<span class="line"><span style="color:#61AFEF;">docker</span><span style="color:#98C379;"> run</span><span style="color:#D19A66;"> --name</span><span style="color:#98C379;"> mymongo</span><span style="color:#D19A66;"> -v</span><span style="color:#98C379;"> /Users/press/Data/mymongo/problem:/data/db</span><span style="color:#D19A66;"> -d</span><span style="color:#98C379;"> mongo:4</span><span style="color:#98C379;"> mongod</span><span style="color:#D19A66;"> -f</span><span style="color:#98C379;"> /data/db/mongo.conf</span></span></code></pre><div class="line-numbers-wrapper" aria-hidden="true"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br></div></div><h3 id="导入大量数据" tabindex="-1">导入大量数据 <a class="header-anchor" href="#导入大量数据" aria-label="Permalink to &quot;导入大量数据&quot;">​</a></h3><h2 id="连接失败" tabindex="-1">连接失败 <a class="header-anchor" href="#连接失败" aria-label="Permalink to &quot;连接失败&quot;">​</a></h2><p>默认情况下，mongod进程可以支持65536个链接</p><div class="language-sh line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang">sh</span><pre class="shiki one-dark-pro vp-code" style="background-color:#282c34;color:#abb2bf;" tabindex="0"><code><span class="line"><span style="color:#7F848E;font-style:italic;">#查看支持的连接数</span></span>
<span class="line"><span style="color:#61AFEF;">db.serverStatus</span><span style="color:#ABB2BF;">().connections</span></span>
<span class="line"></span>
<span class="line"><span style="color:#7F848E;font-style:italic;"># /data/db/mongo.conf</span></span>
<span class="line"><span style="color:#61AFEF;">net:</span></span>
<span class="line"><span style="color:#61AFEF;">	maxIncomingConnections:</span><span style="color:#D19A66;"> 200</span></span></code></pre><div class="line-numbers-wrapper" aria-hidden="true"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br></div></div>`,7)]))}const u=a(o,[["render",p]]);export{m as __pageData,u as default};
