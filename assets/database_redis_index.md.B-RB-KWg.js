import{_ as n,c as a,o as l,ah as e}from"./chunks/framework.BrJYEL96.js";const d=JSON.parse('{"title":"Redis","description":"","frontmatter":{},"headers":[],"relativePath":"database/redis/index.md","filePath":"database/redis/index.md","lastUpdated":1751723043000}'),p={name:"database/redis/index.md"};function o(r,s,c,t,i,b){return l(),a("div",null,s[0]||(s[0]=[e(`<h1 id="redis" tabindex="-1">Redis <a class="header-anchor" href="#redis" aria-label="Permalink to &quot;Redis&quot;">​</a></h1><table tabindex="0"><thead><tr><th>web</th><th>desc</th></tr></thead><tbody><tr><td><a href="https://redis.io/" target="_blank" rel="noreferrer">官网</a></td><td></td></tr><tr><td><a href="https://download.redis.io/releases/redis-6.0.9.tar.gz" target="_blank" rel="noreferrer">redis</a></td><td></td></tr><tr><td><a href="https://www.redisio.com/commands.html" target="_blank" rel="noreferrer">中文文档</a></td><td></td></tr><tr><td><a href="https://cloud.redis.io/#/" target="_blank" rel="noreferrer">redis cloud</a></td><td>免费使用Redis</td></tr><tr><td><a href="https://console.upstash.com/redis/bfedeb6a-7a94-4d31-9c7f-32d9b3d284e5?teamid=0" target="_blank" rel="noreferrer">upstash</a></td><td>免费使用Redis</td></tr><tr><td><a href="https://redis.io/insight/" target="_blank" rel="noreferrer">Redis Desktop Manager</a></td><td></td></tr></tbody></table><h3 id="docker启动" tabindex="-1">docker启动 <a class="header-anchor" href="#docker启动" aria-label="Permalink to &quot;docker启动&quot;">​</a></h3><div class="language-sh line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang">sh</span><pre class="shiki one-dark-pro vp-code" style="background-color:#282c34;color:#abb2bf;" tabindex="0"><code><span class="line"><span style="color:#61AFEF;">docker</span><span style="color:#98C379;"> run</span><span style="color:#D19A66;"> --name</span><span style="color:#98C379;"> myredis</span><span style="color:#D19A66;"> -d</span><span style="color:#D19A66;"> -e</span><span style="color:#98C379;"> REDIS_PASSWORD=love</span><span style="color:#D19A66;"> -p</span><span style="color:#98C379;"> 6379:6379</span><span style="color:#D19A66;"> -v</span><span style="color:#98C379;"> ./redis.conf:/usr/local/etc/redis/redis.conf</span><span style="color:#D19A66;"> -v</span><span style="color:#98C379;"> ./redis_data:/data</span><span style="color:#98C379;"> redis</span><span style="color:#98C379;"> redis-server</span><span style="color:#D19A66;"> --requirepass</span><span style="color:#98C379;"> love</span></span></code></pre><div class="line-numbers-wrapper" aria-hidden="true"><span class="line-number">1</span><br></div></div><h3 id="centos安装依赖" tabindex="-1">centos安装依赖 <a class="header-anchor" href="#centos安装依赖" aria-label="Permalink to &quot;centos安装依赖&quot;">​</a></h3><div class="language-sh line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang">sh</span><pre class="shiki one-dark-pro vp-code" style="background-color:#282c34;color:#abb2bf;" tabindex="0"><code><span class="line"><span style="color:#61AFEF;">yum</span><span style="color:#98C379;"> install</span><span style="color:#D19A66;"> -y</span><span style="color:#98C379;"> gcc-c++</span><span style="color:#98C379;"> autoconf</span><span style="color:#98C379;"> automake</span></span>
<span class="line"></span>
<span class="line"><span style="color:#7F848E;font-style:italic;"># install scl source</span></span>
<span class="line"><span style="color:#61AFEF;">yum</span><span style="color:#98C379;"> install</span><span style="color:#D19A66;"> -y</span><span style="color:#98C379;"> centos-release-scl</span><span style="color:#98C379;"> scl-utils-build</span></span>
<span class="line"></span>
<span class="line"><span style="color:#7F848E;font-style:italic;"># 替换源</span></span>
<span class="line"><span style="color:#7F848E;font-style:italic;">#===================================================================================</span></span>
<span class="line"><span style="color:#7F848E;font-style:italic;"># CentOS-SCLo-sclo.repo</span></span>
<span class="line"><span style="color:#7F848E;font-style:italic;">#</span></span>
<span class="line"><span style="color:#7F848E;font-style:italic;"># Please see http://wiki.centos.org/SpecialInterestGroup/SCLo for more</span></span>
<span class="line"><span style="color:#7F848E;font-style:italic;"># information</span></span>
<span class="line"></span>
<span class="line"><span style="color:#ABB2BF;">[centos-sclo-sclo]</span></span>
<span class="line"><span style="color:#E06C75;">name</span><span style="color:#56B6C2;">=</span><span style="color:#98C379;">CentOS-7</span><span style="color:#61AFEF;"> -</span><span style="color:#98C379;"> SCLo</span><span style="color:#98C379;"> sclo</span></span>
<span class="line"><span style="color:#E06C75;">baseurl</span><span style="color:#56B6C2;">=</span><span style="color:#98C379;">http://vault.centos.org/centos/7/sclo/</span><span style="color:#E06C75;">$basearch</span><span style="color:#98C379;">/sclo/</span></span>
<span class="line"><span style="color:#7F848E;font-style:italic;">#mirrorlist=http://mirrorlist.centos.org?arch=$basearch&amp;release=7&amp;repo=sclo-sclo</span></span>
<span class="line"><span style="color:#E06C75;">gpgcheck</span><span style="color:#56B6C2;">=</span><span style="color:#98C379;">1</span></span>
<span class="line"><span style="color:#E06C75;">enabled</span><span style="color:#56B6C2;">=</span><span style="color:#98C379;">1</span></span>
<span class="line"><span style="color:#E06C75;">gpgkey</span><span style="color:#56B6C2;">=</span><span style="color:#98C379;">file:///etc/pki/rpm-gpg/RPM-GPG-KEY-CentOS-SIG-SCLo</span></span>
<span class="line"></span>
<span class="line"><span style="color:#ABB2BF;">[centos-sclo-sclo-testing]</span></span>
<span class="line"><span style="color:#E06C75;">name</span><span style="color:#56B6C2;">=</span><span style="color:#98C379;">CentOS-7</span><span style="color:#61AFEF;"> -</span><span style="color:#98C379;"> SCLo</span><span style="color:#98C379;"> sclo</span><span style="color:#98C379;"> Testing</span></span>
<span class="line"><span style="color:#E06C75;">baseurl</span><span style="color:#56B6C2;">=</span><span style="color:#98C379;">http://buildlogs.centos.org/centos/7/sclo/</span><span style="color:#E06C75;">$basearch</span><span style="color:#98C379;">/sclo/</span></span>
<span class="line"><span style="color:#E06C75;">gpgcheck</span><span style="color:#56B6C2;">=</span><span style="color:#98C379;">0</span></span>
<span class="line"><span style="color:#E06C75;">enabled</span><span style="color:#56B6C2;">=</span><span style="color:#98C379;">0</span></span>
<span class="line"><span style="color:#E06C75;">gpgkey</span><span style="color:#56B6C2;">=</span><span style="color:#98C379;">file:///etc/pki/rpm-gpg/RPM-GPG-KEY-CentOS-SIG-SCLo</span></span>
<span class="line"></span>
<span class="line"><span style="color:#ABB2BF;">[centos-sclo-sclo-source]</span></span>
<span class="line"><span style="color:#E06C75;">name</span><span style="color:#56B6C2;">=</span><span style="color:#98C379;">CentOS-7</span><span style="color:#61AFEF;"> -</span><span style="color:#98C379;"> SCLo</span><span style="color:#98C379;"> sclo</span><span style="color:#98C379;"> Sources</span></span>
<span class="line"><span style="color:#E06C75;">baseurl</span><span style="color:#56B6C2;">=</span><span style="color:#98C379;">http://vault.centos.org/centos/7/sclo/Source/sclo/</span></span>
<span class="line"><span style="color:#E06C75;">gpgcheck</span><span style="color:#56B6C2;">=</span><span style="color:#98C379;">1</span></span>
<span class="line"><span style="color:#E06C75;">enabled</span><span style="color:#56B6C2;">=</span><span style="color:#98C379;">0</span></span>
<span class="line"><span style="color:#E06C75;">gpgkey</span><span style="color:#56B6C2;">=</span><span style="color:#98C379;">file:///etc/pki/rpm-gpg/RPM-GPG-KEY-CentOS-SIG-SCLo</span></span>
<span class="line"></span>
<span class="line"><span style="color:#ABB2BF;">[centos-sclo-sclo-debuginfo]</span></span>
<span class="line"><span style="color:#E06C75;">name</span><span style="color:#56B6C2;">=</span><span style="color:#98C379;">CentOS-7</span><span style="color:#61AFEF;"> -</span><span style="color:#98C379;"> SCLo</span><span style="color:#98C379;"> sclo</span><span style="color:#98C379;"> Debuginfo</span></span>
<span class="line"><span style="color:#E06C75;">baseurl</span><span style="color:#56B6C2;">=</span><span style="color:#98C379;">http://debuginfo.centos.org/centos/7/sclo/</span><span style="color:#E06C75;">$basearch</span><span style="color:#98C379;">/</span></span>
<span class="line"><span style="color:#E06C75;">gpgcheck</span><span style="color:#56B6C2;">=</span><span style="color:#98C379;">1</span></span>
<span class="line"><span style="color:#E06C75;">enabled</span><span style="color:#56B6C2;">=</span><span style="color:#98C379;">0</span></span>
<span class="line"><span style="color:#E06C75;">gpgkey</span><span style="color:#56B6C2;">=</span><span style="color:#98C379;">file:///etc/pki/rpm-gpg/RPM-GPG-KEY-CentOS-SIG-SCLo</span></span>
<span class="line"></span>
<span class="line"><span style="color:#7F848E;font-style:italic;">#===================================================================================</span></span>
<span class="line"><span style="color:#7F848E;font-style:italic;"># CentOS-SCLo-rh.repo</span></span>
<span class="line"><span style="color:#7F848E;font-style:italic;">#</span></span>
<span class="line"><span style="color:#7F848E;font-style:italic;"># Please see http://wiki.centos.org/SpecialInterestGroup/SCLo for more</span></span>
<span class="line"><span style="color:#7F848E;font-style:italic;"># information</span></span>
<span class="line"></span>
<span class="line"><span style="color:#ABB2BF;">[centos-sclo-rh]</span></span>
<span class="line"><span style="color:#E06C75;">name</span><span style="color:#56B6C2;">=</span><span style="color:#98C379;">CentOS-7</span><span style="color:#61AFEF;"> -</span><span style="color:#98C379;"> SCLo</span><span style="color:#98C379;"> rh</span></span>
<span class="line"><span style="color:#E06C75;">baseurl</span><span style="color:#56B6C2;">=</span><span style="color:#98C379;">https://vault.centos.org/centos/7/sclo/</span><span style="color:#E06C75;">$basearch</span><span style="color:#98C379;">/rh/</span></span>
<span class="line"><span style="color:#7F848E;font-style:italic;">#mirrorlist=http://mirrorlist.centos.org?arch=$basearch&amp;release=7&amp;repo=sclo-rh</span></span>
<span class="line"><span style="color:#E06C75;">gpgcheck</span><span style="color:#56B6C2;">=</span><span style="color:#98C379;">1</span></span>
<span class="line"><span style="color:#E06C75;">enabled</span><span style="color:#56B6C2;">=</span><span style="color:#98C379;">1</span></span>
<span class="line"><span style="color:#E06C75;">gpgkey</span><span style="color:#56B6C2;">=</span><span style="color:#98C379;">file:///etc/pki/rpm-gpg/RPM-GPG-KEY-CentOS-SIG-SCLo</span></span>
<span class="line"></span>
<span class="line"><span style="color:#ABB2BF;">[centos-sclo-rh-testing]</span></span>
<span class="line"><span style="color:#E06C75;">name</span><span style="color:#56B6C2;">=</span><span style="color:#98C379;">CentOS-7</span><span style="color:#61AFEF;"> -</span><span style="color:#98C379;"> SCLo</span><span style="color:#98C379;"> rh</span><span style="color:#98C379;"> Testing</span></span>
<span class="line"><span style="color:#E06C75;">baseurl</span><span style="color:#56B6C2;">=</span><span style="color:#98C379;">http://buildlogs.centos.org/centos/7/sclo/</span><span style="color:#E06C75;">$basearch</span><span style="color:#98C379;">/rh/</span></span>
<span class="line"><span style="color:#E06C75;">gpgcheck</span><span style="color:#56B6C2;">=</span><span style="color:#98C379;">0</span></span>
<span class="line"><span style="color:#E06C75;">enabled</span><span style="color:#56B6C2;">=</span><span style="color:#98C379;">0</span></span>
<span class="line"><span style="color:#E06C75;">gpgkey</span><span style="color:#56B6C2;">=</span><span style="color:#98C379;">file:///etc/pki/rpm-gpg/RPM-GPG-KEY-CentOS-SIG-SCLo</span></span>
<span class="line"></span>
<span class="line"><span style="color:#ABB2BF;">[centos-sclo-rh-source]</span></span>
<span class="line"><span style="color:#E06C75;">name</span><span style="color:#56B6C2;">=</span><span style="color:#98C379;">CentOS-7</span><span style="color:#61AFEF;"> -</span><span style="color:#98C379;"> SCLo</span><span style="color:#98C379;"> rh</span><span style="color:#98C379;"> Sources</span></span>
<span class="line"><span style="color:#E06C75;">baseurl</span><span style="color:#56B6C2;">=</span><span style="color:#98C379;">http://vault.centos.org/centos/7/sclo/Source/rh/</span></span>
<span class="line"><span style="color:#E06C75;">gpgcheck</span><span style="color:#56B6C2;">=</span><span style="color:#98C379;">1</span></span>
<span class="line"><span style="color:#E06C75;">enabled</span><span style="color:#56B6C2;">=</span><span style="color:#98C379;">0</span></span>
<span class="line"><span style="color:#E06C75;">gpgkey</span><span style="color:#56B6C2;">=</span><span style="color:#98C379;">file:///etc/pki/rpm-gpg/RPM-GPG-KEY-CentOS-SIG-SCLo</span></span>
<span class="line"></span>
<span class="line"><span style="color:#ABB2BF;">[centos-sclo-rh-debuginfo]</span></span>
<span class="line"><span style="color:#E06C75;">name</span><span style="color:#56B6C2;">=</span><span style="color:#98C379;">CentOS-7</span><span style="color:#61AFEF;"> -</span><span style="color:#98C379;"> SCLo</span><span style="color:#98C379;"> rh</span><span style="color:#98C379;"> Debuginfo</span></span>
<span class="line"><span style="color:#E06C75;">baseurl</span><span style="color:#56B6C2;">=</span><span style="color:#98C379;">http://debuginfo.centos.org/centos/7/sclo/</span><span style="color:#E06C75;">$basearch</span><span style="color:#98C379;">/</span></span>
<span class="line"><span style="color:#E06C75;">gpgcheck</span><span style="color:#56B6C2;">=</span><span style="color:#98C379;">1</span></span>
<span class="line"><span style="color:#E06C75;">enabled</span><span style="color:#56B6C2;">=</span><span style="color:#98C379;">0</span></span>
<span class="line"><span style="color:#E06C75;">gpgkey</span><span style="color:#56B6C2;">=</span><span style="color:#98C379;">file:///etc/pki/rpm-gpg/RPM-GPG-KEY-CentOS-SIG-SCLo</span></span>
<span class="line"></span>
<span class="line"><span style="color:#7F848E;font-style:italic;">#===================================================================================</span></span>
<span class="line"></span>
<span class="line"></span>
<span class="line"><span style="color:#7F848E;font-style:italic;"># install gcc, gcc-c++ gdb toolchain of version 9</span></span>
<span class="line"><span style="color:#61AFEF;"> yum</span><span style="color:#98C379;"> install</span><span style="color:#D19A66;"> -y</span><span style="color:#98C379;"> devtoolset-9-toolchain</span></span>
<span class="line"><span style="color:#ABB2BF;"> </span></span>
<span class="line"><span style="color:#7F848E;font-style:italic;"> # 临时富泰系统原有的gcc引用</span></span>
<span class="line"><span style="color:#61AFEF;"> scl</span><span style="color:#98C379;"> enable</span><span style="color:#98C379;"> devtoolset-9</span><span style="color:#98C379;"> bash</span></span>
<span class="line"><span style="color:#ABB2BF;"> </span></span>
<span class="line"><span style="color:#7F848E;font-style:italic;"> # show gcc version</span></span>
<span class="line"><span style="color:#61AFEF;"> gcc</span><span style="color:#D19A66;"> -v</span></span></code></pre><div class="line-numbers-wrapper" aria-hidden="true"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br><span class="line-number">16</span><br><span class="line-number">17</span><br><span class="line-number">18</span><br><span class="line-number">19</span><br><span class="line-number">20</span><br><span class="line-number">21</span><br><span class="line-number">22</span><br><span class="line-number">23</span><br><span class="line-number">24</span><br><span class="line-number">25</span><br><span class="line-number">26</span><br><span class="line-number">27</span><br><span class="line-number">28</span><br><span class="line-number">29</span><br><span class="line-number">30</span><br><span class="line-number">31</span><br><span class="line-number">32</span><br><span class="line-number">33</span><br><span class="line-number">34</span><br><span class="line-number">35</span><br><span class="line-number">36</span><br><span class="line-number">37</span><br><span class="line-number">38</span><br><span class="line-number">39</span><br><span class="line-number">40</span><br><span class="line-number">41</span><br><span class="line-number">42</span><br><span class="line-number">43</span><br><span class="line-number">44</span><br><span class="line-number">45</span><br><span class="line-number">46</span><br><span class="line-number">47</span><br><span class="line-number">48</span><br><span class="line-number">49</span><br><span class="line-number">50</span><br><span class="line-number">51</span><br><span class="line-number">52</span><br><span class="line-number">53</span><br><span class="line-number">54</span><br><span class="line-number">55</span><br><span class="line-number">56</span><br><span class="line-number">57</span><br><span class="line-number">58</span><br><span class="line-number">59</span><br><span class="line-number">60</span><br><span class="line-number">61</span><br><span class="line-number">62</span><br><span class="line-number">63</span><br><span class="line-number">64</span><br><span class="line-number">65</span><br><span class="line-number">66</span><br><span class="line-number">67</span><br><span class="line-number">68</span><br><span class="line-number">69</span><br><span class="line-number">70</span><br><span class="line-number">71</span><br><span class="line-number">72</span><br><span class="line-number">73</span><br><span class="line-number">74</span><br><span class="line-number">75</span><br><span class="line-number">76</span><br><span class="line-number">77</span><br><span class="line-number">78</span><br><span class="line-number">79</span><br><span class="line-number">80</span><br><span class="line-number">81</span><br><span class="line-number">82</span><br><span class="line-number">83</span><br><span class="line-number">84</span><br><span class="line-number">85</span><br><span class="line-number">86</span><br><span class="line-number">87</span><br></div></div><h2 id="编译安装" tabindex="-1">编译安装 <a class="header-anchor" href="#编译安装" aria-label="Permalink to &quot;编译安装&quot;">​</a></h2><div class="language-sh line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang">sh</span><pre class="shiki one-dark-pro vp-code" style="background-color:#282c34;color:#abb2bf;" tabindex="0"><code><span class="line"><span style="color:#7F848E;font-style:italic;"># download redis</span></span>
<span class="line"><span style="color:#61AFEF;">wget</span><span style="color:#98C379;"> https://download.redis.io/releases/redis-6.0.9.tar.gz</span></span>
<span class="line"></span>
<span class="line"></span>
<span class="line"><span style="color:#7F848E;font-style:italic;">#unzip</span></span>
<span class="line"><span style="color:#56B6C2;">cd</span><span style="color:#98C379;"> /usr/local/src/</span></span>
<span class="line"><span style="color:#61AFEF;">tar</span><span style="color:#D19A66;"> -zxvf</span><span style="color:#98C379;"> https://download.redis.io/releases/redis-6.0.9.tar.gz</span></span>
<span class="line"></span>
<span class="line"><span style="color:#7F848E;font-style:italic;"># make</span></span>
<span class="line"><span style="color:#61AFEF;">make</span></span>
<span class="line"></span>
<span class="line"><span style="color:#7F848E;font-style:italic;">#make test</span></span>
<span class="line"><span style="color:#61AFEF;">make</span><span style="color:#98C379;"> test</span><span style="color:#ABB2BF;"> </span></span>
<span class="line"><span style="color:#7F848E;font-style:italic;"># error: You need tcl 8.5 or newer in order to run the Redis test</span></span>
<span class="line"><span style="color:#61AFEF;">yum</span><span style="color:#98C379;"> install</span><span style="color:#D19A66;"> -y</span><span style="color:#98C379;"> tcl</span><span style="color:#ABB2BF;"> </span></span>
<span class="line"></span>
<span class="line"><span style="color:#61AFEF;">mkdir</span><span style="color:#D19A66;"> -p</span><span style="color:#98C379;"> /usr/local/redis</span></span>
<span class="line"></span>
<span class="line"><span style="color:#7F848E;font-style:italic;"># install</span></span>
<span class="line"><span style="color:#61AFEF;">make</span><span style="color:#98C379;"> PREFIX=/usr/local/redis/</span><span style="color:#98C379;"> install</span></span>
<span class="line"></span>
<span class="line"><span style="color:#61AFEF;">cp</span><span style="color:#98C379;"> /usr/local/src/redis-6.0.9/redis.conf</span><span style="color:#98C379;"> /usr/local/redis/bin/</span></span>
<span class="line"></span>
<span class="line"><span style="color:#7F848E;font-style:italic;"># change daemonize no -&gt; yes</span></span>
<span class="line"><span style="color:#61AFEF;"> 220</span><span style="color:#7F848E;font-style:italic;"> ################################# GENERAL #####################################</span></span>
<span class="line"><span style="color:#61AFEF;"> 221</span></span>
<span class="line"><span style="color:#61AFEF;"> 222</span><span style="color:#7F848E;font-style:italic;"> # By default Redis does not run as a daemon. Use &#39;yes&#39; if you need it.</span></span>
<span class="line"><span style="color:#61AFEF;"> 223</span><span style="color:#7F848E;font-style:italic;"> # Note that Redis will write a pid file in /var/run/redis.pid when daemonized.</span></span>
<span class="line"><span style="color:#61AFEF;"> 224</span><span style="color:#7F848E;font-style:italic;"> # daemonize no</span></span>
<span class="line"><span style="color:#61AFEF;"> 224</span><span style="color:#98C379;"> daemonize</span><span style="color:#98C379;"> yes</span></span>
<span class="line"><span style="color:#ABB2BF;"> </span></span>
<span class="line"><span style="color:#7F848E;font-style:italic;"> # start</span></span>
<span class="line"><span style="color:#61AFEF;">/usr/local/redis/bin/redis-server</span><span style="color:#98C379;"> /usr/local/redis/bin/redis.conf</span></span>
<span class="line"></span>
<span class="line"><span style="color:#7F848E;font-style:italic;"># kill</span></span>
<span class="line"><span style="color:#56B6C2;">kill</span><span style="color:#D19A66;"> -p</span><span style="color:#98C379;"> pid</span></span></code></pre><div class="line-numbers-wrapper" aria-hidden="true"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br><span class="line-number">16</span><br><span class="line-number">17</span><br><span class="line-number">18</span><br><span class="line-number">19</span><br><span class="line-number">20</span><br><span class="line-number">21</span><br><span class="line-number">22</span><br><span class="line-number">23</span><br><span class="line-number">24</span><br><span class="line-number">25</span><br><span class="line-number">26</span><br><span class="line-number">27</span><br><span class="line-number">28</span><br><span class="line-number">29</span><br><span class="line-number">30</span><br><span class="line-number">31</span><br><span class="line-number">32</span><br><span class="line-number">33</span><br><span class="line-number">34</span><br><span class="line-number">35</span><br><span class="line-number">36</span><br></div></div><h4 id="加入系统服务目录vim-etc-systemd-system-redis-service" tabindex="-1">加入系统服务目录<code>vim /etc/systemd/system/redis.service</code> <a class="header-anchor" href="#加入系统服务目录vim-etc-systemd-system-redis-service" aria-label="Permalink to &quot;加入系统服务目录\`vim /etc/systemd/system/redis.service\`&quot;">​</a></h4><div class="language-sh line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang">sh</span><pre class="shiki one-dark-pro vp-code" style="background-color:#282c34;color:#abb2bf;" tabindex="0"><code><span class="line"><span style="color:#ABB2BF;">[Unit]</span></span>
<span class="line"><span style="color:#E06C75;">Description</span><span style="color:#56B6C2;">=</span><span style="color:#98C379;">redis-server</span></span>
<span class="line"><span style="color:#E06C75;">After</span><span style="color:#56B6C2;">=</span><span style="color:#98C379;">network.target</span></span>
<span class="line"></span>
<span class="line"><span style="color:#ABB2BF;">[Service]</span></span>
<span class="line"><span style="color:#E06C75;">Type</span><span style="color:#56B6C2;">=</span><span style="color:#98C379;">forking</span></span>
<span class="line"><span style="color:#E06C75;">ExecStart</span><span style="color:#56B6C2;">=</span><span style="color:#98C379;">/usr/local/redis/bin/redis-server</span><span style="color:#61AFEF;"> /usr/local/redis/bin/redis.conf</span></span>
<span class="line"><span style="color:#E06C75;">PrivateTmp</span><span style="color:#56B6C2;">=</span><span style="color:#98C379;">true</span></span>
<span class="line"></span>
<span class="line"><span style="color:#ABB2BF;">[Install]</span></span>
<span class="line"><span style="color:#E06C75;">WantedBy</span><span style="color:#56B6C2;">=</span><span style="color:#98C379;">multi-user.target</span></span></code></pre><div class="line-numbers-wrapper" aria-hidden="true"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br></div></div><h4 id="重载系统服务" tabindex="-1">重载系统服务 <a class="header-anchor" href="#重载系统服务" aria-label="Permalink to &quot;重载系统服务&quot;">​</a></h4><div class="language-sh line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang">sh</span><pre class="shiki one-dark-pro vp-code" style="background-color:#282c34;color:#abb2bf;" tabindex="0"><code><span class="line"><span style="color:#61AFEF;">systemctl</span><span style="color:#98C379;"> daemon-reload</span></span></code></pre><div class="line-numbers-wrapper" aria-hidden="true"><span class="line-number">1</span><br></div></div><p>启动系统redis服务</p><div class="language-sh line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang">sh</span><pre class="shiki one-dark-pro vp-code" style="background-color:#282c34;color:#abb2bf;" tabindex="0"><code><span class="line"><span style="color:#61AFEF;">systemctl</span><span style="color:#98C379;"> start</span><span style="color:#98C379;"> redis.service</span></span>
<span class="line"></span>
<span class="line"><span style="color:#61AFEF;">systemctl</span><span style="color:#98C379;"> restart</span><span style="color:#98C379;"> redis.service</span></span>
<span class="line"></span>
<span class="line"><span style="color:#61AFEF;">systemctl</span><span style="color:#98C379;"> stop</span><span style="color:#98C379;"> redis.service</span></span></code></pre><div class="line-numbers-wrapper" aria-hidden="true"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br></div></div><h4 id="将服务添加到开机启动" tabindex="-1">将服务添加到开机启动 <a class="header-anchor" href="#将服务添加到开机启动" aria-label="Permalink to &quot;将服务添加到开机启动&quot;">​</a></h4><div class="language-sh line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang">sh</span><pre class="shiki one-dark-pro vp-code" style="background-color:#282c34;color:#abb2bf;" tabindex="0"><code><span class="line"><span style="color:#61AFEF;">systemctl</span><span style="color:#98C379;"> enable</span><span style="color:#98C379;"> redis.service</span></span>
<span class="line"></span>
<span class="line"><span style="color:#7F848E;font-style:italic;"># Created symlink from /etc/systemd/system/multi-user.target.wants/redis.service to /etc/systemd/system/redis.service.</span></span></code></pre><div class="line-numbers-wrapper" aria-hidden="true"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br></div></div><h2 id="redis配置文件" tabindex="-1">redis配置文件 <a class="header-anchor" href="#redis配置文件" aria-label="Permalink to &quot;redis配置文件&quot;">​</a></h2><ul><li><code>daemonize</code>默认情况下，redis不是在和后台运行的，如果需要在后台运行，把该项的设置为yes。</li><li><code>databases</code>设置数据库的个数，默认16个，默认是使用的数据库编号是0。</li><li><code>save</code>设置redis进行数据库镜像的频率。</li><li><code>dbfilename</code>镜像备份文件名。</li><li><code>dir</code>数据库镜像备份文件放置的路径。</li><li><code>requirepass</code>设置客户端连接后进行任何其他指定前需要使用的密码。</li><li><code>maxclients</code>限制同时连接的客户数量。</li><li><code>maxmemory</code>设置redis能够使用的最大内存。</li></ul><h2 id="授权的两种模式" tabindex="-1">授权的两种模式 <a class="header-anchor" href="#授权的两种模式" aria-label="Permalink to &quot;授权的两种模式&quot;">​</a></h2><p>一种是命令行<code>-a passwrod</code>，另一种是进入redis，然后通过<code>AUTH password</code></p>`,20)]))}const u=n(p,[["render",o]]);export{d as __pageData,u as default};
