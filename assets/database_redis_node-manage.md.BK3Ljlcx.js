import{_ as a,c as n,o as s,ah as l}from"./chunks/framework.BrJYEL96.js";const h=JSON.parse('{"title":"节点管理","description":"","frontmatter":{},"headers":[],"relativePath":"database/redis/node-manage.md","filePath":"database/redis/node-manage.md","lastUpdated":1738670768000}'),t={name:"database/redis/node-manage.md"};function r(i,e,o,c,d,p){return s(),n("div",null,e[0]||(e[0]=[l(`<h1 id="节点管理" tabindex="-1">节点管理 <a class="header-anchor" href="#节点管理" aria-label="Permalink to &quot;节点管理&quot;">​</a></h1><p>登录<code>sentinel</code></p><div class="language-sh line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang">sh</span><pre class="shiki one-dark-pro vp-code" style="background-color:#282c34;color:#abb2bf;" tabindex="0"><code><span class="line"><span style="color:#61AFEF;">redis-cli</span><span style="color:#D19A66;"> -p</span><span style="color:#D19A66;"> 26379</span></span>
<span class="line"></span>
<span class="line"><span style="color:#7F848E;font-style:italic;"># 查看</span></span>
<span class="line"><span style="color:#61AFEF;">sentinel</span><span style="color:#98C379;"> master</span><span style="color:#ABB2BF;"> [mastername]</span></span></code></pre><div class="line-numbers-wrapper" aria-hidden="true"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br></div></div><h2 id="添加sentinel" tabindex="-1">添加sentinel <a class="header-anchor" href="#添加sentinel" aria-label="Permalink to &quot;添加sentinel&quot;">​</a></h2><p>只需要启动配置<code>sentinel monitor mymaster</code></p><h3 id="添加多个sentinel" tabindex="-1">添加多个sentinel <a class="header-anchor" href="#添加多个sentinel" aria-label="Permalink to &quot;添加多个sentinel&quot;">​</a></h3><p>一个一个添加，添加后用命令<code>sentinel master [mastername]</code>检查所有sentinel是否已经完全获取到所有master的信息</p><h2 id="删除sentinel" tabindex="-1">删除sentinel <a class="header-anchor" href="#删除sentinel" aria-label="Permalink to &quot;删除sentinel&quot;">​</a></h2><p>Sentinel 配置文件会记录master和slave信息</p><ol><li>停止要删除的sentinel进程</li><li><code>sentinel reset *</code>向所有其它sentinel实例发送命令</li><li>执行<code>sentinel master [mastername]</code>检查每个sentinel显示的sentinel数量是否一致</li></ol><h2 id="删除旧的master或无法访问的slave" tabindex="-1">删除旧的master或无法访问的slave <a class="header-anchor" href="#删除旧的master或无法访问的slave" aria-label="Permalink to &quot;删除旧的master或无法访问的slave&quot;">​</a></h2><p>需要停止slave后向所有sentinel发送命令<code>sentinel master [mastername]</code>，重置mastername所有状态信息</p>`,12)]))}const b=a(t,[["render",r]]);export{h as __pageData,b as default};
